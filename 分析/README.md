# ğŸš€ æœŸè´§æŒä»“åˆ†æç³»ç»Ÿ v2.1

![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)
![Streamlit](https://img.shields.io/badge/Streamlit-1.28+-red.svg)
![License](https://img.shields.io/badge/License-MIT-green.svg)
![Status](https://img.shields.io/badge/Status-Active-brightgreen.svg)

> ğŸ¯ **æ™ºèƒ½æœŸè´§æŒä»“åˆ†æç³»ç»Ÿï¼ŒåŠ©æ‚¨æ´å¯Ÿå¸‚åœºå…ˆæœº**
> 
> åŸºäºå¤šç»´åº¦æ•°æ®åˆ†æçš„æœŸè´§æŒä»“ç­–ç•¥ç³»ç»Ÿï¼Œæ”¯æŒäº‘ç«¯éƒ¨ç½²ï¼Œå…·å¤‡æ™ºèƒ½å®¹é”™å’Œæ€§èƒ½ä¼˜åŒ–åŠŸèƒ½ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ§  æ™ºèƒ½åˆ†æç­–ç•¥
- **å¤šç©ºåŠ›é‡å˜åŒ–ç­–ç•¥**ï¼šåŸºäºæŒä»“å˜åŒ–åˆ†æå¸‚åœºè¶‹åŠ¿
- **èœ˜è››ç½‘ç­–ç•¥**ï¼šçŸ¥æƒ…è€…ä¸éçŸ¥æƒ…è€…æŒä»“å¯¹æ¯”åˆ†æ
- **å®¶äººå¸­ä½åå‘æ“ä½œç­–ç•¥**ï¼šåŸºäºç‰¹å®šå¸­ä½çš„åå‘æ“ä½œä¿¡å·

### ğŸš€ v2.1 æ–°ç‰¹æ€§ï¼šå¢å¼ºè¶…æ—¶å¤„ç†æœºåˆ¶
- **æ™ºèƒ½è·³è¿‡åŠŸèƒ½**ï¼šé‡åˆ°é—®é¢˜è‡ªåŠ¨è·³è¿‡ï¼Œä¸å½±å“æ•´ä½“æµç¨‹
- **å·®å¼‚åŒ–è¶…æ—¶è®¾ç½®**ï¼šå¹¿æœŸæ‰€15ç§’ï¼Œå…¶ä»–äº¤æ˜“æ‰€30ç§’
- **çº¿ç¨‹+é˜Ÿåˆ—æ§åˆ¶**ï¼šç²¾ç¡®çš„è¶…æ—¶æ§åˆ¶å’Œé”™è¯¯å¤„ç†
- **æœ€å¤§åŒ–æ•°æ®è·å–**ï¼šå°è¯•è·å–æ‰€æœ‰5ä¸ªäº¤æ˜“æ‰€æ•°æ®

### ğŸ“Š æ•°æ®æºè¦†ç›–
- **å¤§å•†æ‰€**ï¼šå¤§è¿å•†å“äº¤æ˜“æ‰€æŒä»“æ•°æ®
- **ä¸­é‡‘æ‰€**ï¼šä¸­å›½é‡‘èæœŸè´§äº¤æ˜“æ‰€æ•°æ®
- **éƒ‘å•†æ‰€**ï¼šéƒ‘å·å•†å“äº¤æ˜“æ‰€æ•°æ®
- **ä¸ŠæœŸæ‰€**ï¼šä¸Šæµ·æœŸè´§äº¤æ˜“æ‰€æ•°æ®
- **å¹¿æœŸæ‰€**ï¼šå¹¿å·æœŸè´§äº¤æ˜“æ‰€æ•°æ®ï¼ˆæ™ºèƒ½è·³è¿‡ï¼‰

### ğŸ¨ å¯è§†åŒ–åˆ†æ
- **æœŸé™ç»“æ„åˆ†æ**ï¼šæœŸè´§åˆçº¦ä»·æ ¼ç»“æ„å¯è§†åŒ–
- **æŒä»“å˜åŒ–å›¾è¡¨**ï¼šå¤šç»´åº¦æŒä»“æ•°æ®å±•ç¤º
- **ç­–ç•¥ä¿¡å·é¢æ¿**ï¼šå®æ—¶ç­–ç•¥ä¿¡å·æ˜¾ç¤º
- **å…±æŒ¯åˆ†æ**ï¼šå¤šç­–ç•¥ä¿¡å·å…±æŒ¯è¯†åˆ«

### âš¡ æ€§èƒ½ä¼˜åŒ–
- **æ™ºèƒ½ç¼“å­˜ç³»ç»Ÿ**ï¼šStreamlitåŸç”Ÿç¼“å­˜ + æ–‡ä»¶ç¼“å­˜
- **å¹¶å‘æ•°æ®è·å–**ï¼šå¤šçº¿ç¨‹å¹¶å‘å¤„ç†
- **ç½‘ç»œè¿æ¥ä¼˜åŒ–**ï¼šè¿æ¥æ± å¤ç”¨ + æ™ºèƒ½é‡è¯•
- **å¢å¼ºè¶…æ—¶å¤„ç†**ï¼šç²¾ç¡®è¶…æ—¶æ§åˆ¶ï¼Œé¿å…å¡é¡¿

## ğŸš€ å¿«é€Ÿå¼€å§‹

### åœ¨çº¿ä½“éªŒ
ğŸŒ **Streamlit Cloud**: [https://your-app-url.streamlit.app](https://your-app-url.streamlit.app)

### æœ¬åœ°éƒ¨ç½²

#### 1. ç¯å¢ƒå‡†å¤‡
```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/yourusername/futures-analysis.git
cd futures-analysis

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

#### 2. å¯åŠ¨åº”ç”¨
```bash
# æ–¹å¼1ï¼šç›´æ¥å¯åŠ¨
streamlit run streamlit_app.py

# æ–¹å¼2ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬
python app.py
```

#### 3. è®¿é—®åº”ç”¨
æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š`http://localhost:8501`

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

### åŸºç¡€ç¯å¢ƒ
- **Python**: 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- **å†…å­˜**: å»ºè®® 2GB ä»¥ä¸Š
- **ç½‘ç»œ**: ç¨³å®šçš„äº’è”ç½‘è¿æ¥

### æ ¸å¿ƒä¾èµ–
```
streamlit>=1.28.0
pandas>=1.5.0
numpy>=1.21.0
plotly>=5.0.0
akshare>=1.13.0
openpyxl>=3.0.0
xlsxwriter>=3.0.0
requests>=2.28.0
```

## ğŸ”§ é…ç½®è¯´æ˜

### å®¶äººå¸­ä½é…ç½®
åœ¨ `config.py` ä¸­è‡ªå®šä¹‰å®¶äººå¸­ä½ï¼š
```python
STRATEGY_CONFIG = {
    "å®¶äººå¸­ä½åå‘æ“ä½œç­–ç•¥": {
        "default_retail_seats": [
            "æ°¸å®‰æœŸè´§", "å›½æ³°å›å®‰", "æµ·é€šæœŸè´§", 
            "ç”³é“¶ä¸‡å›½", "åæ³°æœŸè´§", "ä¸­ä¿¡æœŸè´§"
        ]
    }
}
```

### è¶…æ—¶è®¾ç½®é…ç½®
ç³»ç»Ÿè‡ªåŠ¨é…ç½®å·®å¼‚åŒ–è¶…æ—¶ï¼š
```python
price_exchanges = [
    {"market": "DCE", "name": "å¤§å•†æ‰€", "timeout": 30},
    {"market": "CFFEX", "name": "ä¸­é‡‘æ‰€", "timeout": 30},
    {"market": "CZCE", "name": "éƒ‘å•†æ‰€", "timeout": 30},
    {"market": "SHFE", "name": "ä¸ŠæœŸæ‰€", "timeout": 30},
    {"market": "GFEX", "name": "å¹¿æœŸæ‰€", "timeout": 15},  # æ™ºèƒ½è·³è¿‡
]
```

## ğŸ“Š ä½¿ç”¨æŒ‡å—

### åŸºæœ¬æ“ä½œæµç¨‹

1. **é€‰æ‹©äº¤æ˜“æ—¥æœŸ**ï¼šåœ¨ä¾§è¾¹æ é€‰æ‹©è¦åˆ†æçš„äº¤æ˜“æ—¥
2. **é…ç½®å®¶äººå¸­ä½**ï¼šæ ¹æ®éœ€è¦è°ƒæ•´å®¶äººå¸­ä½åˆ—è¡¨
3. **å¼€å§‹åˆ†æ**ï¼šç‚¹å‡»"å¼€å§‹åˆ†æ"æŒ‰é’®
4. **æŸ¥çœ‹ç»“æœ**ï¼šåœ¨ä¸»ç•Œé¢æŸ¥çœ‹åˆ†æç»“æœå’Œå¯è§†åŒ–å›¾è¡¨

### é«˜çº§åŠŸèƒ½

#### æ€§èƒ½ç›‘æ§
- åœ¨ä¾§è¾¹æ æŸ¥çœ‹ç¼“å­˜çŠ¶æ€
- ç›‘æ§æ•°æ®è·å–æˆåŠŸç‡
- æŸ¥çœ‹ç³»ç»Ÿæ€§èƒ½æŒ‡æ ‡

#### é”™è¯¯å¤„ç†
- ç³»ç»Ÿè‡ªåŠ¨å¤„ç†ç½‘ç»œè¶…æ—¶
- æ™ºèƒ½è·³è¿‡é—®é¢˜äº¤æ˜“æ‰€
- è¯¦ç»†çš„é”™è¯¯æç¤ºä¿¡æ¯

## ğŸ¯ æ ¸å¿ƒç®—æ³•

### å¤šç©ºåŠ›é‡å˜åŒ–ç­–ç•¥
```python
def analyze_power_change(data):
    long_chg = data['total_long_chg']
    short_chg = data['total_short_chg']
    
    if long_chg > 0 and short_chg < 0:
        return "çœ‹å¤š"
    elif long_chg < 0 and short_chg > 0:
        return "çœ‹ç©º"
    else:
        return "ä¸­æ€§"
```

### å®¶äººå¸­ä½åå‘æ“ä½œç­–ç•¥
```python
def analyze_retail_reverse(data, retail_seats):
    # çœ‹å¤šä¿¡å·ï¼šæ‰€æœ‰å®¶äººå¸­ä½çš„ç©ºå•æŒä»“é‡å˜åŒ–ä¸ºæ­£ï¼Œä¸”å¤šå•æŒä»“é‡å˜åŒ–ä¸ºè´Ÿæˆ–0
    # çœ‹ç©ºä¿¡å·ï¼šæ‰€æœ‰å®¶äººå¸­ä½çš„å¤šå•æŒä»“é‡å˜åŒ–ä¸ºæ­£ï¼Œä¸”ç©ºå•æŒä»“é‡å˜åŒ–ä¸ºè´Ÿæˆ–0
    
    for seat in active_seats:
        long_chg = seat['long_chg']
        short_chg = seat['short_chg']
        
        # åˆ¤æ–­ä¿¡å·æ¡ä»¶
        long_condition = short_chg > 0 and long_chg <= 0
        short_condition = long_chg > 0 and short_chg <= 0
```

### å¢å¼ºè¶…æ—¶å¤„ç†æœºåˆ¶
```python
def fetch_with_timeout(exchange, timeout=15):
    import threading, queue
    
    result_queue = queue.Queue()
    
    def fetch_data():
        try:
            result = api_call(exchange)
            result_queue.put(('success', result))
        except Exception as e:
            result_queue.put(('error', str(e)))
    
    thread = threading.Thread(target=fetch_data)
    thread.daemon = True
    thread.start()
    thread.join(timeout=timeout)
    
    if thread.is_alive():
        return None  # è¶…æ—¶ï¼Œè‡ªåŠ¨è·³è¿‡
    
    return result_queue.get_nowait()
```

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. æ•°æ®è·å–å¤±è´¥
**ç°è±¡**ï¼šæ˜¾ç¤º"æ•°æ®è·å–å¤±è´¥"
**è§£å†³æ–¹æ¡ˆ**ï¼š
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- ç­‰å¾…å‡ åˆ†é’Ÿåé‡è¯•
- ä½¿ç”¨æ¼”ç¤ºæ•°æ®ä½“éªŒåŠŸèƒ½

#### 2. å¹¿æœŸæ‰€å¡é¡¿
**ç°è±¡**ï¼šç³»ç»Ÿåœ¨å¹¿æœŸæ‰€å¤„åœç•™è¿‡ä¹…
**è§£å†³æ–¹æ¡ˆ**ï¼š
- v2.1ç‰ˆæœ¬å·²è‡ªåŠ¨è§£å†³ï¼ˆ15ç§’è¶…æ—¶ï¼‰
- ç³»ç»Ÿä¼šè‡ªåŠ¨è·³è¿‡å¹¶ç»§ç»­åˆ†æ

#### 3. æ€§èƒ½é—®é¢˜
**ç°è±¡**ï¼šè¿è¡Œé€Ÿåº¦è¾ƒæ…¢
**è§£å†³æ–¹æ¡ˆ**ï¼š
- é¦–æ¬¡è¿è¡Œè¾ƒæ…¢å±æ­£å¸¸ç°è±¡
- åç»­è¿è¡Œä¼šæ˜¾è‘—åŠ é€Ÿï¼ˆç¼“å­˜æœºåˆ¶ï¼‰
- æ¸…ç†ç¼“å­˜å¯é‡Šæ”¾å­˜å‚¨ç©ºé—´

### æŠ€æœ¯æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š
1. æŸ¥çœ‹ [æ•…éšœæ’é™¤æ–‡æ¡£](docs/TROUBLESHOOTING.md)
2. æäº¤ [GitHub Issue](https://github.com/yourusername/futures-analysis/issues)
3. è”ç³»å¼€å‘è€…ï¼š953534947@qq.com

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

### v2.1 æ€§èƒ½æå‡

| æŒ‡æ ‡ | v1.0 | v2.0 | v2.1 | æ”¹è¿›å¹…åº¦ |
|------|------|------|------|----------|
| é¦–æ¬¡è¿è¡Œæ—¶é—´ | 3-5åˆ†é’Ÿ | 1-3åˆ†é’Ÿ | 1-2åˆ†é’Ÿ | 60%+ |
| é‡å¤è¿è¡Œæ—¶é—´ | 3-5åˆ†é’Ÿ | 10-30ç§’ | 5-20ç§’ | 90%+ |
| æ•°æ®å®Œæ•´æ€§ | 4/5äº¤æ˜“æ‰€ | 4/5äº¤æ˜“æ‰€ | 4-5/5äº¤æ˜“æ‰€ | +25% |
| ç³»ç»Ÿç¨³å®šæ€§ | è‰¯å¥½ | ä¼˜ç§€ | å“è¶Š | æ˜¾è‘—æå‡ |

### äº‘ç«¯é€‚é…ä¼˜åŒ–
- âœ… **æ™ºèƒ½è¶…æ—¶æ§åˆ¶**ï¼š15ç§’ç²¾ç¡®è¶…æ—¶
- âœ… **è‡ªåŠ¨å®¹é”™å¤„ç†**ï¼šé‡åˆ°é—®é¢˜è‡ªåŠ¨è·³è¿‡
- âœ… **ç”¨æˆ·å‹å¥½æç¤º**ï¼šè¯¦ç»†çš„çŠ¶æ€ä¿¡æ¯
- âœ… **æœ€å¤§åŒ–æ•°æ®è·å–**ï¼šå°è¯•è·å–æ‰€æœ‰äº¤æ˜“æ‰€æ•°æ®

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

### è´¡çŒ®æ–¹å¼
1. **æŠ¥å‘Šé—®é¢˜**ï¼šæäº¤ Bug æŠ¥å‘Šæˆ–åŠŸèƒ½è¯·æ±‚
2. **ä»£ç è´¡çŒ®**ï¼šæäº¤ Pull Request
3. **æ–‡æ¡£æ”¹è¿›**ï¼šå®Œå–„æ–‡æ¡£å’Œç¤ºä¾‹
4. **åŠŸèƒ½å»ºè®®**ï¼šæå‡ºæ–°åŠŸèƒ½æƒ³æ³•

### å¼€å‘æµç¨‹
```bash
# 1. Fork é¡¹ç›®
# 2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/your-feature

# 3. æäº¤æ›´æ”¹
git commit -m "Add your feature"

# 4. æ¨é€åˆ†æ”¯
git push origin feature/your-feature

# 5. åˆ›å»º Pull Request
```

è¯¦ç»†ä¿¡æ¯è¯·æŸ¥çœ‹ [è´¡çŒ®æŒ‡å—](CONTRIBUTING.md)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ‘¨â€ğŸ’» ä½œè€…ä¿¡æ¯

**7haoge**
- ğŸ“§ é‚®ç®±ï¼š953534947@qq.com
- ğŸ™ GitHubï¼š[@yourusername](https://github.com/yourusername)
- ğŸ’¼ ä¸“ä¸šï¼šé‡åŒ–äº¤æ˜“ç³»ç»Ÿå¼€å‘

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®çš„æ”¯æŒï¼š
- [Streamlit](https://streamlit.io/) - ä¼˜ç§€çš„Webåº”ç”¨æ¡†æ¶
- [akshare](https://akshare.akfamily.xyz/) - å¼ºå¤§çš„é‡‘èæ•°æ®æ¥å£
- [Plotly](https://plotly.com/) - ä¸“ä¸šçš„æ•°æ®å¯è§†åŒ–åº“
- [Pandas](https://pandas.pydata.org/) - é«˜æ•ˆçš„æ•°æ®å¤„ç†å·¥å…·

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡

![GitHub stars](https://img.shields.io/github/stars/yourusername/futures-analysis?style=social)
![GitHub forks](https://img.shields.io/github/forks/yourusername/futures-analysis?style=social)
![GitHub issues](https://img.shields.io/github/issues/yourusername/futures-analysis)
![GitHub last commit](https://img.shields.io/github/last-commit/yourusername/futures-analysis)

---

<div align="center">

**ğŸš€ æœŸè´§æŒä»“åˆ†æç³»ç»Ÿ v2.1 - æ™ºèƒ½åˆ†æï¼Œç²¾å‡†å†³ç­–ï¼**

[â­ Star](https://github.com/yourusername/futures-analysis) | [ğŸ´ Fork](https://github.com/yourusername/futures-analysis/fork) | [ğŸ“ Issues](https://github.com/yourusername/futures-analysis/issues) | [ğŸ“– Docs](docs/)

</div> 